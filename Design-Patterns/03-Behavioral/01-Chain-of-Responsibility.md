
**Chain of Responsibility (CoR)** рЃљрЃарЃўрЃА рЃЦрЃфрЃћрЃЋрЃўрЃЌрЃў рЃбрЃўрЃърЃўрЃА рЃЊрЃўрЃќрЃљрЃўрЃюрЃўрЃА рЃърЃљрЃбрЃћрЃарЃюрЃў, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃАрЃљрЃерЃБрЃљрЃџрЃћрЃЉрЃљрЃА рЃњрЃЋрЃљрЃФрЃџрЃћрЃЋрЃА рЃерЃћрЃЋрЃЦрЃЏрЃюрЃљрЃЌ рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃћрЃЉрЃўрЃА рЃњрЃљрЃЊрЃљрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃўрЃА рЃ»рЃљрЃГрЃЋрЃў, рЃАрЃљрЃЊрЃљрЃф рЃЌрЃўрЃЌрЃўрЃћрЃБрЃџрЃў рЃ»рЃљрЃГрЃЋрЃўрЃА рЃћрЃџрЃћрЃЏрЃћрЃюрЃбрЃў рЃњрЃљрЃЊрЃљрЃгрЃДрЃЋрЃћрЃбрЃА рЃБрЃюрЃЊрЃљ рЃЊрЃљрЃљрЃЏрЃБрЃерЃљрЃЋрЃЮрЃА рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃљ рЃЌрЃБ рЃБрЃюрЃЊрЃљ рЃњрЃљрЃЊрЃљрЃљрЃњрЃцрЃќрЃљрЃЋрЃюрЃЮрЃА рЃўрЃњрЃў рЃерЃћрЃЏрЃЊрЃћрЃњ рЃћрЃџрЃћрЃЏрЃћрЃюрЃбрЃќрЃћ. рЃћрЃА рЃърЃљрЃбрЃћрЃарЃюрЃў рЃ«рЃерЃўрЃарЃљрЃЊ рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЉрЃљ рЃџрЃЮрЃњрЃўрЃарЃћрЃЉрЃўрЃА, рЃљрЃЋрЃбрЃЮрЃарЃўрЃќрЃљрЃфрЃўрЃўрЃА, рЃЋрЃљрЃџрЃўрЃЊрЃљрЃфрЃўрЃўрЃА, рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃўрЃА рЃЊрЃљрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃўрЃА рЃЊрЃљ рЃАрЃ«рЃЋрЃљ рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃћрЃЉрЃерЃўрЃф.

#### рЃарЃЮрЃЊрЃўрЃА рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃЮрЃЌ?
- рЃарЃЮрЃЊрЃћрЃАрЃљрЃф рЃњрЃЋрЃАрЃБрЃарЃА рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃўрЃА рЃЊрЃљрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃљ рЃћрЃарЃЌрЃќрЃћ рЃЏрЃћрЃб рЃЎрЃЮрЃЏрЃърЃЮрЃюрЃћрЃюрЃбрЃА рЃерЃћрЃћрЃФрЃџрЃЮрЃА.
- рЃарЃЮрЃЊрЃћрЃАрЃљрЃф рЃљрЃа рЃўрЃфрЃўрЃЌ рЃгрЃўрЃюрЃљрЃАрЃгрЃљрЃа, рЃЎрЃЮрЃюрЃЎрЃарЃћрЃбрЃБрЃџрЃљрЃЊ рЃарЃЮрЃЏрЃћрЃџ рЃЎрЃЮрЃЏрЃърЃЮрЃюрЃћрЃюрЃбрЃА рЃЏрЃЮрЃБрЃгрЃћрЃЋрЃА рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃўрЃА рЃЊрЃљрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃљ.
- рЃарЃЮрЃЊрЃћрЃАрЃљрЃф рЃњрЃАрЃБрЃарЃЌрЃд рЃЎрЃЮрЃЊрЃўрЃА рЃЏрЃЮрЃЦрЃюрЃўрЃџрЃЮрЃЉрЃљ рЃЊрЃљ рЃњрЃљрЃцрЃљрЃарЃЌрЃЮрЃћрЃЉрЃљрЃЊрЃЮрЃЉрЃљ.

---

#### Chain of Responsibility рЃўрЃА рЃўрЃЏрЃърЃџрЃћрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљ

рЃЏрЃЮрЃЊрЃўрЃЌ, рЃерЃћрЃЋрЃЦрЃЏрЃюрЃљрЃЌ рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃўрЃА рЃњрЃљрЃЊрЃљрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃўрЃА рЃ»рЃљрЃГрЃЋрЃў, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃЏрЃЮрЃўрЃфрЃљрЃЋрЃА рЃАрЃ«рЃЋрЃљрЃЊрЃљрЃАрЃ«рЃЋрЃљ **Handler** рЃЎрЃџрЃљрЃАрЃћрЃЉрЃА. рЃгрЃљрЃарЃЏрЃЮрЃЋрЃўрЃЊрЃњрЃўрЃюрЃЮрЃЌ, рЃарЃЮрЃЏ рЃњрЃЋрЃљрЃЦрЃЋрЃА рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃЌрЃљ рЃљрЃЋрЃбрЃЮрЃарЃўрЃќрЃљрЃфрЃўрЃўрЃА рЃЊрЃљ рЃЊрЃљрЃерЃЋрЃћрЃЉрЃўрЃА рЃЎрЃЮрЃюрЃбрЃЮрЃџрЃўрЃА рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ.

##### 1. рЃљрЃЉрЃАрЃбрЃарЃљрЃЦрЃбрЃБрЃџрЃў Handler рЃЎрЃџрЃљрЃАрЃў

```php
<?php
abstract class Handler
{
    protected ?Handler $nextHandler = null;

    public function setNext(Handler $handler): Handler
    {
        $this->nextHandler = $handler;
        return $handler;
    }

    public function handle(string $request): ?string
    {
        if ($this->nextHandler) {
            return $this->nextHandler->handle($request);
        }
        return null;
    }
}
```

рЃћрЃА рЃЎрЃџрЃљрЃАрЃў рЃњрЃљрЃюрЃАрЃљрЃќрЃдрЃЋрЃарЃљрЃЋрЃА **setNext()** рЃЏрЃћрЃЌрЃЮрЃЊрЃА, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃАрЃљрЃерЃБрЃљрЃџрЃћрЃЉрЃљрЃА рЃљрЃФрЃџрЃћрЃЋрЃА рЃ░рЃћрЃюрЃЊрЃџрЃћрЃарЃћрЃЉрЃА рЃ»рЃљрЃГрЃЋрЃерЃў рЃЕрЃљрЃћрЃЉрЃљрЃю.

---

##### 2. рЃЎрЃЮрЃюрЃЎрЃарЃћрЃбрЃБрЃџрЃў рЃ░рЃћрЃюрЃЊрЃџрЃћрЃарЃў

**­ЪћИ рЃљрЃЋрЃбрЃЮрЃарЃўрЃќрЃљрЃфрЃўрЃўрЃА рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ**
```php
class AuthenticationHandler extends Handler
{
    public function handle(string $request): ?string
    {
        if ($request !== "authenticated_user") {
            return "РЏћ Access denied: User not authenticated.";
        }
        return parent::handle($request);
    }
}
```

**­ЪћИ рЃарЃЮрЃџрЃўрЃА рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ**
```php
class RoleCheckHandler extends Handler
{
    public function handle(string $request): ?string
    {
        if ($request !== "admin") {
            return "Рџа№ИЈ Access denied: User does not have admin rights.";
        }
        return parent::handle($request);
    }
}
```

**­ЪћИ рЃАрЃљрЃЉрЃЮрЃџрЃЮрЃЮ рЃЊрЃљрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃљ**

```php
class FinalHandler extends Handler
{
    public function handle(string $request): ?string
    {
        return "РюЁ Access granted: Welcome, Admin!";
    }
}
```


##### 3. рЃ»рЃљрЃГрЃЋрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ рЃЊрЃљ рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃљ

```php
$authHandler = new AuthenticationHandler();
$roleHandler = new RoleCheckHandler();
$finalHandler = new FinalHandler();

$authHandler->setNext($roleHandler)->setNext($finalHandler);

// рЃЋрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃЌ рЃљрЃЋрЃбрЃЮрЃарЃўрЃќрЃћрЃЉрЃБрЃџ рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃА, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф **admin** рЃљрЃа рЃљрЃарЃўрЃА
echo $authHandler->handle("authenticated_user"); 
// Output: Рџа№ИЈ Access denied: User does not have admin rights.

echo "\n";

// рЃЋрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃЌ **admin** рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃА
echo $authHandler->handle("admin"); 
// Output: РюЁ Access granted: Welcome, Admin!
```

---

#### ­Ъџђ рЃЊрЃљрЃАрЃЎрЃЋрЃюрЃљ

##### рЃБрЃърЃўрЃарЃљрЃбрЃћрЃАрЃЮрЃЉрЃћрЃЉрЃў:
- **рЃЏрЃЮрЃЊрЃБрЃџрЃљрЃарЃЮрЃЉрЃљ** - рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџрЃў рЃ░рЃћрЃюрЃЊрЃџрЃћрЃарЃў рЃЊрЃљрЃЏрЃЮрЃБрЃЎрЃўрЃЊрЃћрЃЉрЃћрЃџрЃў рЃЊрЃљ рЃЏрЃљрЃарЃбрЃўрЃЋрЃљрЃЊ рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљрЃЊрЃўрЃљ.
- **рЃЏрЃЮрЃЦрЃюрЃўрЃџрЃЮрЃЉрЃљ** - рЃ»рЃљрЃГрЃЋрЃўрЃА рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ рЃљрЃЊрЃЋрЃўрЃџрЃљрЃЊ рЃерЃћрЃўрЃцрЃЋрЃџрЃћрЃЉрЃљ рЃљрЃю рЃњрЃљрЃцрЃљрЃарЃЌрЃЮрЃЋрЃЊрЃћрЃЉрЃљ.
- **рЃЎрЃЮрЃЊрЃўрЃА рЃАрЃўрЃАрЃБрЃцрЃЌрЃљрЃЋрЃћ** - рЃЌрЃљрЃЋрЃўрЃЊрЃљрЃю рЃЋрЃўрЃарЃўрЃЊрЃћрЃЉрЃЌ рЃњрЃарЃФрЃћрЃџ if-else рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃћрЃЉрЃА.
- **рЃЏрЃљрЃарЃбрЃўрЃЋрЃў рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃљ** - рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџрЃў рЃ»рЃљрЃГрЃЋрЃў рЃфрЃљрЃџрЃфрЃљрЃџрЃЎрЃћ рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃњрЃљрЃўрЃбрЃћрЃАрЃбрЃЮрЃА.

##### рЃАрЃљрЃЊ рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃЮрЃЌ
- рЃљрЃЋрЃбрЃЮрЃарЃўрЃќрЃљрЃфрЃўрЃўрЃА рЃЊрЃљ рЃЊрЃљрЃерЃЋрЃћрЃЉрЃўрЃА рЃЎрЃЮрЃюрЃбрЃЮрЃџрЃў.
- рЃџрЃЮрЃњрЃўрЃарЃћрЃЉрЃўрЃА рЃАрЃўрЃАрЃбрЃћрЃЏрЃћрЃЉрЃў.
- рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃћрЃЉрЃўрЃА рЃърЃарЃћ-рЃърЃарЃЮрЃфрЃћрЃАрЃўрЃюрЃњрЃў API - рЃћрЃЉрЃерЃў.