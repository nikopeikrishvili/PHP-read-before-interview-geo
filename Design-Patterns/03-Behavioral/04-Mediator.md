рЃърЃарЃЮрЃњрЃарЃљрЃЏрЃБрЃџрЃў рЃБрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃДрЃЮрЃцрЃўрЃА рЃњрЃљрЃюрЃЋрЃўрЃЌрЃљрЃарЃћрЃЉрЃљрЃерЃў рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃўрЃљ рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃўрЃА рЃћрЃарЃЌрЃЏрЃљрЃюрЃћрЃЌрЃЌрЃљрЃю рЃЊрЃљрЃЏрЃЮрЃБрЃЎрЃўрЃЊрЃћрЃЉрЃџрЃЮрЃЉрЃўрЃА рЃерЃћрЃюрЃљрЃарЃЕрЃБрЃюрЃћрЃЉрЃљ.
рЃарЃЮрЃЊрЃћрЃАрЃљрЃф рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃћрЃЉрЃА рЃћрЃарЃЌрЃЏрЃљрЃюрЃћрЃЌрЃЌрЃљрЃю рЃБрЃерЃБрЃљрЃџрЃЮ рЃЎрЃЮрЃЏрЃБрЃюрЃўрЃЎрЃљрЃфрЃўрЃљ рЃљрЃЦрЃЋрЃЌ, рЃЎрЃЮрЃЊрЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃљ рЃарЃЌрЃБрЃџрЃЊрЃћрЃЉрЃљ, рЃ«рЃЮрЃџрЃЮ рЃАрЃўрЃАрЃбрЃЏрЃўрЃА рЃњрЃљрЃцрЃљрЃарЃЌрЃЮрЃћрЃЉрЃљ - рЃБрЃцрЃарЃЮ рЃЏрЃбрЃЎрЃўрЃЋрЃюрЃћрЃБрЃџрЃў рЃ«рЃЊрЃћрЃЉрЃљ. рЃљрЃЏ рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃўрЃА рЃњрЃљрЃЊрЃљрЃАрЃљрЃГрЃарЃћрЃџрЃљрЃЊ рЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЉрЃљ **Mediator (рЃЏрЃћрЃЊрЃўрЃљрЃбрЃЮрЃарЃў) рЃърЃљрЃбрЃћрЃарЃюрЃў**.

#### рЃарЃљ рЃљрЃарЃўрЃА Mediator рЃърЃљрЃбрЃћрЃарЃюрЃў?

Mediator рЃљрЃарЃўрЃА рЃЦрЃфрЃћрЃЋрЃўрЃЌрЃў рЃбрЃўрЃърЃўрЃА рЃърЃљрЃбрЃћрЃарЃюрЃў , рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃБрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃДрЃЮрЃцрЃА рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃћрЃЉрЃА рЃерЃЮрЃарЃўрЃА рЃЎрЃЮрЃЏрЃБрЃюрЃўрЃЎрЃљрЃфрЃўрЃўрЃА рЃфрЃћрЃюрЃбрЃарЃљрЃџрЃўрЃќрЃљрЃфрЃўрЃљрЃА. рЃЏрЃўрЃАрЃў рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃЊрЃљрЃюрЃўрЃерЃюрЃБрЃџрЃћрЃЉрЃљрЃљ рЃБрЃарЃЌрЃўрЃћрЃарЃЌрЃЊрЃљрЃЏрЃЮрЃЎрЃўрЃЊрЃћрЃЉрЃБрЃџрЃћрЃЉрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃфрЃўрЃарЃћрЃЉрЃљ рЃЊрЃљ рЃЎрЃЮрЃЏрЃърЃЮрЃюрЃћрЃюрЃбрЃћрЃЉрЃА рЃерЃЮрЃарЃўрЃА рЃЏрЃЮрЃЦрЃюрЃўрЃџрЃў рЃЎрЃљрЃЋрЃерЃўрЃарЃўрЃА рЃБрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃДрЃЮрЃцрЃљ.

Mediator-рЃўрЃА рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃЌ, рЃЮрЃЉрЃўрЃЦрЃбрЃћрЃЉрЃў рЃћрЃарЃЌрЃЏрЃљрЃюрЃћрЃЌрЃА рЃърЃўрЃарЃЊрЃљрЃърЃўрЃа рЃљрЃа рЃћрЃ«рЃЏрЃўрЃљрЃюрЃћрЃЉрЃўрЃљ, рЃљрЃЏрЃўрЃА рЃюрЃљрЃфрЃЋрЃџрЃљрЃЊ, рЃўрЃАрЃўрЃюрЃў рЃДрЃЋрЃћрЃџрЃљ рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљрЃА рЃљрЃњрЃќрЃљрЃЋрЃюрЃўрЃљрЃю **рЃЏрЃћрЃЊрЃўрЃљрЃбрЃЮрЃарЃЌрЃљрЃю**, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃЏрЃљрЃарЃЌрЃљрЃЋрЃА рЃЎрЃЮрЃЏрЃБрЃюрЃўрЃЎрЃљрЃфрЃўрЃљрЃА.

---

#### Mediator рЃўрЃА рЃўрЃЏрЃърЃџрЃћрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљ

##### 1. Mediator рЃўрЃюрЃбрЃћрЃарЃцрЃћрЃўрЃАрЃў

рЃърЃўрЃарЃЋрЃћрЃџрЃў рЃюрЃљрЃЉрЃўрЃ»рЃў рЃљрЃарЃўрЃА **Mediator** рЃўрЃюрЃбрЃћрЃарЃцрЃћрЃўрЃАрЃўрЃА рЃњрЃљрЃюрЃАрЃљрЃќрЃдрЃЋрЃарЃљ, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃБрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃДрЃЮрЃцрЃА рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃћрЃЉрЃўрЃА рЃЎрЃЮрЃЏрЃБрЃюрЃўрЃЎрЃљрЃфрЃўрЃљрЃА.
```php
interface Mediator {
    public function notify(object $sender, string $event): void;
}
```
рЃћрЃА рЃўрЃюрЃбрЃћрЃарЃцрЃћрЃўрЃАрЃў рЃерЃћрЃўрЃфрЃљрЃЋрЃА **notify()** рЃЏрЃћрЃЌрЃЮрЃЊрЃА рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃўрЃдрЃћрЃЉрЃА рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃА (рЃњрЃљрЃЏрЃЮрЃЏрЃњрЃќрЃљрЃЋрЃюрЃА) рЃЊрЃљ рЃўрЃЋрЃћрЃюрЃЌрЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃА.

##### 2. рЃЎрЃЮрЃЏрЃърЃЮрЃюрЃћрЃюрЃбрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ

рЃЊрЃљрЃЋрЃБрЃерЃЋрЃљрЃЌ, рЃњрЃЋрЃљрЃЦрЃЋрЃА рЃЮрЃарЃў рЃЎрЃЮрЃЏрЃърЃЮрЃюрЃћрЃюрЃбрЃў  - **User** рЃЊрЃљ **ChatRoom**. рЃўрЃАрЃўрЃюрЃў рЃБрЃерЃБрЃљрЃџрЃЮрЃЊ рЃљрЃа рЃћрЃЎрЃЮрЃюрЃбрЃарЃљрЃЦрЃбрЃћрЃЉрЃўрЃљрЃю рЃћрЃарЃЌрЃЏрЃљрЃюрЃћрЃЌрЃА, рЃљрЃарЃљрЃЏрЃћрЃЊ рЃЏрЃћрЃЊрЃўрЃљрЃбрЃЮрЃарЃўрЃА рЃЏрЃћрЃерЃЋрЃћрЃЮрЃЉрЃўрЃЌ.

```php
class User {
    private string $name;
    private Mediator $mediator;

    public function __construct(string $name, Mediator $mediator) {
        $this->name = $name;
        $this->mediator = $mediator;
    }

    public function sendMessage(string $message): void {
        echo "{$this->name} рЃњрЃќрЃљрЃЋрЃюрЃўрЃА: $message\n";
        $this->mediator->notify($this, "message_sent");
    }
}
```

рЃћрЃА рЃЎрЃџрЃљрЃАрЃў **User** рЃгрЃљрЃарЃЏрЃЮрЃљрЃЊрЃњрЃћрЃюрЃА рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃА, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃЏрЃћрЃЊрЃўрЃљрЃбрЃЮрЃарЃўрЃА рЃЊрЃљрЃ«рЃЏрЃљрЃарЃћрЃЉрЃўрЃЌ рЃњрЃќрЃљрЃЋрЃюрЃўрЃА рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљрЃА.

##### 3. Mediator - рЃўрЃА рЃўрЃЏрЃърЃџрЃћрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљ

рЃљрЃ«рЃџрЃљ рЃерЃћрЃЋрЃЦрЃЏрЃюрЃљрЃЌ **ChatRoomMediator**, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃЏрЃљрЃарЃЌрЃљрЃЋрЃА рЃЎрЃЮрЃЏрЃБрЃюрЃўрЃЎрЃљрЃфрЃўрЃљрЃА рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃћрЃЉрЃА рЃерЃЮрЃарЃўрЃА.

```php
class ChatRoomMediator implements Mediator {
    private array $users = [];

    public function addUser(User $user): void {
        $this->users[] = $user;
    }

    public function notify(object $sender, string $event): void {
        if ($event === "message_sent") {
            echo "Mediator: рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ рЃЊрЃљрЃЏрЃБрЃерЃљрЃЋрЃЊрЃљ рЃЕрЃљрЃбрЃерЃў.\n";
        }
    }
}
```

рЃљрЃЏ рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃљрЃерЃў, **ChatRoomMediator** рЃљрЃ«рЃЊрЃћрЃюрЃА рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃўрЃА рЃЊрЃљрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃљрЃА.

##### 4. рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃљ

рЃЊрЃљрЃЋрЃљрЃЏрЃљрЃбрЃЮрЃЌ рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃћрЃЉрЃў рЃЊрЃљ рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃЮрЃЌ рЃЏрЃћрЃЊрЃўрЃљрЃбрЃЮрЃарЃў:
```php
$chatMediator = new ChatRoomMediator();

$user1 = new User("рЃюрЃўрЃЎрЃљ", $chatMediator);
$user2 = new User("рЃЏрЃљрЃарЃў", $chatMediator);

$chatMediator->addUser($user1);
$chatMediator->addUser($user2);

$user1->sendMessage("рЃњрЃљрЃЏрЃљрЃарЃ»рЃЮрЃЉрЃљ, рЃарЃЮрЃњрЃЮрЃа рЃ«рЃљрЃа?");
```


##### 5. рЃерЃћрЃЊрЃћрЃњрЃў

```
рЃюрЃўрЃЎрЃљ рЃњрЃќрЃљрЃЋрЃюрЃўрЃА: рЃњрЃљрЃЏрЃљрЃарЃ»рЃЮрЃЉрЃљ, рЃарЃЮрЃњрЃЮрЃа рЃ«рЃљрЃа?
Mediator: рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ рЃЊрЃљрЃЏрЃБрЃерЃљрЃЋрЃЊрЃљ рЃЕрЃљрЃбрЃарЃБрЃЏрЃерЃў.
```

---

#### ­Ъџђ рЃЊрЃљрЃАрЃЎрЃЋрЃюрЃљ

Mediator рЃърЃљрЃбрЃћрЃарЃюрЃў рЃАрЃљрЃАрЃљрЃарЃњрЃћрЃЉрЃџрЃЮрЃљ рЃўрЃЏ рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃћрЃЉрЃерЃў, рЃарЃЮрЃЊрЃћрЃАрЃљрЃф рЃАрЃљрЃГрЃўрЃарЃЮрЃљ рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃћрЃЉрЃА рЃерЃЮрЃарЃўрЃА рЃБрЃарЃЌрЃўрЃћрЃарЃЌрЃЦрЃЏрЃћрЃЊрЃћрЃЉрЃўрЃА рЃфрЃћрЃюрЃбрЃарЃљрЃџрЃўрЃќрЃљрЃфрЃўрЃљ. рЃўрЃА рЃћрЃ«рЃЏрЃљрЃарЃћрЃЉрЃљ рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃА рЃЏрЃЮрЃЊрЃБрЃџрЃљрЃарЃЮрЃЉрЃљрЃА рЃЊрЃљ рЃЎрЃЮрЃЊрЃўрЃА рЃАрЃўрЃАрЃБрЃцрЃЌрЃљрЃЋрЃўрЃА рЃерЃћрЃюрЃљрЃарЃЕрЃБрЃюрЃћрЃЉрЃљрЃА.