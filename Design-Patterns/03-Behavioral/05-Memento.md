**Memento** рЃљрЃарЃўрЃА рЃЦрЃфрЃћрЃЋрЃўрЃЌрЃў рЃбрЃўрЃърЃўрЃА рЃЊрЃўрЃќрЃљрЃўрЃюрЃўрЃА рЃърЃљрЃбрЃћрЃарЃюрЃў, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЉрЃљ рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃўрЃА рЃЏрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃўрЃА рЃерЃћрЃюрЃљрЃ«рЃЋрЃўрЃАрЃљ рЃЊрЃљ рЃАрЃљрЃГрЃўрЃарЃћрЃЮрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃљрЃерЃў рЃљрЃдрЃЊрЃњрЃћрЃюрЃўрЃА рЃЏрЃўрЃќрЃюрЃўрЃЌ. рЃћрЃА рЃърЃљрЃбрЃћрЃарЃюрЃў рЃњрЃљрЃюрЃАрЃљрЃЎрЃБрЃЌрЃарЃћрЃЉрЃўрЃЌ рЃњрЃљрЃЏрЃЮрЃАрЃљрЃЊрЃћрЃњрЃўрЃљ рЃўрЃЏ рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃћрЃЉрЃерЃў, рЃарЃЮрЃЊрЃћрЃАрЃљрЃф рЃњрЃЋрЃАрЃБрЃарЃА **"рЃњрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃўрЃА" (Undo) рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃў** рЃЊрЃљрЃЋрЃљрЃЏрЃљрЃбрЃЮрЃЌ рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃљрЃерЃў.

Memento рЃърЃљрЃбрЃћрЃарЃюрЃўрЃА рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃўрЃЊрЃћрЃљрЃљ рЃерЃўрЃЊрЃљ рЃЏрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃўрЃА рЃљрЃдрЃарЃўрЃфрЃ«рЃЋрЃљ рЃўрЃАрЃћ, рЃарЃЮрЃЏ рЃњрЃљрЃарЃћ рЃЎрЃЮрЃЊрЃЏрЃљ рЃЋрЃћрЃа рЃерЃћрЃфрЃЋрЃљрЃџрЃЮрЃА рЃћрЃА рЃЏрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃљ рЃърЃўрЃарЃЊрЃљрЃърЃўрЃа.

#### Memento рЃърЃљрЃбрЃћрЃарЃюрЃўрЃА рЃАрЃљрЃЏрЃў рЃФрЃўрЃарЃўрЃЌрЃљрЃЊрЃў рЃЎрЃЮрЃЏрЃърЃЮрЃюрЃћрЃюрЃбрЃў
1. **Originator (рЃгрЃДрЃљрЃарЃЮ)** - рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃў, рЃарЃЮрЃЏрЃћрЃџрЃўрЃА рЃЏрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃљрЃА рЃЋрЃўрЃюрЃљрЃ«рЃљрЃЋрЃЌ.
2. **Memento** рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃў рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃўрЃюрЃљрЃ«рЃљрЃЋрЃА **Originator**-рЃўрЃА рЃЏрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃљрЃА.
3. **Caretaker (рЃЏрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃў)** - рЃЏрЃљрЃарЃЌрЃљрЃЋрЃА Memento рЃА рЃЊрЃљ рЃАрЃљрЃГрЃўрЃарЃЮрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃљрЃерЃў рЃљрЃдрЃљрЃЊрЃњрЃћрЃюрЃА рЃЏрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃљрЃА.

---

#### Memento рЃърЃљрЃбрЃћрЃарЃюрЃўрЃА рЃўрЃЏрЃърЃџрЃћрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљ

##### 1. Originator - рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃў, рЃарЃЮрЃЏрЃџрЃўрЃА рЃЏрЃЮрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃљрЃА рЃЋрЃўрЃюрЃљрЃ«рЃљрЃЋрЃЌ

```php
class TextEditor {
    private string $text;

    public function __construct() {
        $this->text = "";
    }

    public function write(string $text): void {
        $this->text .= $text;
    }

    public function getText(): string {
        return $this->text;
    }

    public function save(): Memento {
        return new Memento($this->text);
    }

    public function restore(Memento $memento): void {
        $this->text = $memento->getState();
    }
}
```

##### 2. Memento - рЃЏрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃўрЃА рЃерЃћрЃЏрЃюрЃљрЃ«рЃЋрЃћрЃџрЃў рЃЎрЃџрЃљрЃАрЃў

```php
class Memento {
    private string $state;

    public function __construct(string $state) {
        $this->state = $state;
    }

    public function getState(): string {
        return $this->state;
    }
}
```

##### 3. Caretaker - Memento -рЃА рЃЏрЃЏрЃљрЃарЃЌрЃЋрЃћрЃџрЃў

```php
class History {
    private array $history = [];

    public function push(Memento $memento): void {
        $this->history[] = $memento;
    }

    public function pop(): ?Memento {
        return array_pop($this->history);
    }
}
```

##### 4. рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃљ
```php
$editor = new TextEditor();
$history = new History();

$editor->write("рЃърЃўрЃарЃЋрЃћрЃџрЃў рЃгрЃўрЃюрЃљрЃЊрЃљрЃЊрЃћрЃЉрЃљ. ");
$history->push($editor->save()); // рЃЋрЃўрЃюрЃљрЃ«рЃљрЃЋрЃЌ рЃЏрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃљрЃА

$editor->write("рЃЏрЃћрЃЮрЃарЃћ рЃгрЃўрЃюрЃљрЃЊрЃљрЃЊрЃћрЃЉрЃљ. ");
$history->push($editor->save()); // рЃЋрЃўрЃюрЃљрЃ«рЃљрЃЋрЃЌ рЃЏрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃљрЃА

$editor->write("рЃЏрЃћрЃАрЃљрЃЏрЃћ рЃгрЃўрЃюрЃљрЃЊрЃљрЃЊрЃћрЃЉрЃљ. ");

echo "рЃЏрЃўрЃЏрЃЊрЃўрЃюрЃљрЃарЃћ рЃбрЃћрЃЦрЃАрЃбрЃў: " . $editor->getText() . PHP_EOL;

// рЃБрЃЎрЃљрЃю рЃЊрЃљрЃЉрЃарЃБрЃюрЃћрЃЉрЃљ
$editor->restore($history->pop());
echo "рЃњрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ: " . $editor->getText() . PHP_EOL;

$editor->restore($history->pop());
echo "рЃЎрЃўрЃЊрЃћрЃЋ рЃћрЃарЃЌрЃ«рЃћрЃџ рЃњрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ: " . $editor->getText() . PHP_EOL;
```

##### 5. рЃерЃћрЃЊрЃћрЃњрЃў
```
рЃЏрЃўрЃЏрЃЊрЃўрЃюрЃљрЃарЃћ рЃбрЃћрЃЦрЃАрЃбрЃў: рЃърЃўрЃарЃЋрЃћрЃџрЃў рЃгрЃўрЃюрЃљрЃЊрЃљрЃЊрЃћрЃЉрЃљ. рЃЏрЃћрЃЮрЃарЃћ рЃгрЃўрЃюрЃљрЃЊрЃљрЃЊрЃћрЃЉрЃљ. рЃЏрЃћрЃАрЃљрЃЏрЃћ рЃгрЃўрЃюрЃљрЃЊрЃљрЃЊрЃћрЃЉрЃљ. 
рЃњрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ: рЃърЃўрЃарЃЋрЃћрЃџрЃў рЃгрЃўрЃюрЃљрЃЊрЃљрЃЊрЃћрЃЉрЃљ. рЃЏрЃћрЃЮрЃарЃћ рЃгрЃўрЃюрЃљрЃЊрЃљрЃЊрЃћрЃЉрЃљ. 
рЃЎрЃўрЃЊрЃћрЃЋ рЃћрЃарЃЌрЃ«рЃћрЃџ рЃњрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ: рЃърЃўрЃарЃЋрЃћрЃџрЃў рЃгрЃўрЃюрЃљрЃЊрЃљрЃЊрЃћрЃЉрЃљ. 
```


---


#### рЃарЃЮрЃЊрЃўрЃА рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃЮрЃЌ Memento рЃърЃљрЃбрЃћрЃарЃюрЃў?

РюЁ рЃЌрЃБ рЃњрЃГрЃўрЃарЃЊрЃћрЃЉрЃљ **Undo (рЃњрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃўрЃА) рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃў**.    
РюЁ рЃЌрЃБ рЃњрЃЦрЃАрЃБрЃарЃА **рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃўрЃА рЃЏрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃўрЃА рЃАрЃљрЃарЃћрЃќрЃћрЃарЃЋрЃЮ рЃљрЃАрЃџрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ**.    
РюЁ рЃЌрЃБ **рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃў рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃўрЃА рЃЊрЃљрЃфрЃЋрЃљ** рЃњрЃГрЃўрЃарЃЊрЃћрЃЉрЃљрЃЌ рЃўрЃАрЃћ, рЃарЃЮрЃЏ рЃЎрЃџрЃўрЃћрЃюрЃбрЃЏрЃљ рЃЋрЃћрЃа рЃерЃћрЃфрЃЋрЃљрЃџрЃЮрЃА рЃЏрЃљрЃЌрЃў рЃерЃўрЃЊрЃљ рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ.

---

#### ­Ъџђ рЃЊрЃљрЃАрЃЎрЃЋрЃюрЃљ

===Memento рЃърЃљрЃбрЃћрЃарЃюрЃў рЃљрЃарЃўрЃА рЃерЃћрЃАрЃљрЃюрЃўрЃерЃюрЃљрЃЋрЃў рЃњрЃќрЃљ **рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃўрЃА рЃЏрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃўрЃА рЃЊрЃарЃЮрЃћрЃЉрЃўрЃЌ рЃерЃћрЃАрЃљрЃюрЃљрЃ«рЃљрЃЊ** рЃЊрЃљ рЃАрЃљрЃГрЃўрЃарЃЮрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃљрЃерЃў рЃЏрЃўрЃА рЃљрЃдрЃАрЃљрЃЊрЃњрЃћрЃюрЃљрЃЊ. рЃЏрЃўрЃАрЃў рЃўрЃЏрЃърЃџрЃћрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљ рЃЏрЃљрЃарЃбрЃўрЃЋрЃўрЃљ рЃЊрЃљ рЃњрЃљрЃюрЃАрЃљрЃЎрЃБрЃЌрЃарЃћрЃЉрЃўрЃЌ рЃњрЃљрЃЏрЃЮрЃАрЃљрЃЊрЃћрЃњрЃўрЃљ рЃўрЃАрЃћрЃЌ рЃърЃарЃЮрЃњрЃарЃљрЃЏрЃћрЃЉрЃерЃў, рЃАрЃљрЃЊрЃљрЃф рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃўрЃљ **"Undo" рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃў**===